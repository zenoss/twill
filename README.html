<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.7: http://docutils.sourceforge.net/" />
<title>twill: an extensible scriptlet language for testing web apps</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document" id="twill-an-extensible-scriptlet-language-for-testing-web-apps">
<h1 class="title">twill: an extensible scriptlet language for testing web apps</h1>
<p>CTB/Feb 2005</p>
<div class="contents topic" id="contents">
<p class="topic-title first"><a name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#what-is-twill" id="id1" name="id1">What is 'twill'?</a></li>
<li><a class="reference" href="#why" id="id2" name="id2">Why?</a></li>
<li><a class="reference" href="#availability" id="id3" name="id3">Availability</a></li>
<li><a class="reference" href="#future-plans" id="id4" name="id4">Future Plans</a></li>
<li><a class="reference" href="#acknowledgements-and-credits" id="id5" name="id5">Acknowledgements and Credits</a></li>
</ul>
</div>
<div class="section" id="what-is-twill">
<h1><a class="toc-backref" href="#id1" name="what-is-twill">What is 'twill'?</a></h1>
<p>twill is a reimplementation of <a class="reference" href="http://pbp.berlios.de/">PBP</a>, the &quot;Python Browser Poseur&quot;.
twill and PBP both let you execute scripts that looks something like
this:</p>
<pre class="literal-block">
# go to my Quixote demo page
go http://issola.caltech.edu/~t/qwsgi/qwsgi-demo.cgi/

# go to the widgets sub-page
go ./widgets
showform

# fill out the form
formclear 1
fv 1 name test
fv 1 password testpass
fv 1 confirm yes
showform

# submit form
submit 0

# show results
show

# confirm success, etc.
code 200
find testpass
</pre>
<p>The primary use for twill/PBP is to do fairly simpleminded (but still
very useful!) automated testing of Web applications.</p>
<p>twill is based on PBP in concept, and (like PBP) is essentially a thin
shell around the <a class="reference" href="http://wwwsearch.sf.net/">mechanize</a> package for Python browser emulation.
Unlike PBP, which implements its own scripting interface on top of
Twisted, twill is an even thinner shell around <a class="reference" href="http://ipython.scipy.org/">IPython</a>.  This means
that you can extend twill in a number of very simple ways.
Eventually, it should be possible to put straight Python code into the
scripts, although at the moment the IPython stuff is more than a bit
hacky &amp; will break indentation.</p>
</div>
<div class="section" id="why">
<h1><a class="toc-backref" href="#id2" name="why">Why?</a></h1>
<p>PBP is a great idea, but Cory Dodt (the author of PBP) is focusing on
other things at the moment, and I needed a solid scripting language
for Web testing.  Plus, I wanted to play with IPython and mechanize.</p>
</div>
<div class="section" id="availability">
<h1><a class="toc-backref" href="#id3" name="availability">Availability</a></h1>
<p>Version 0.5 (at about the same level of functionality as PBP 0.3) is
available for download <a class="reference" href=".">here</a>.  The latest development version can be
found at <a class="reference" href="http://darcs.idyll.org/~t/projects/twill-latest.tar.gz">twill-latest.tar.gz</a>.</p>
<p>Note that you'll need to make one modification to IPython 0.6.10 to get this
to work; sorry.</p>
<pre class="literal-block">
On line 1556 of IPython/iplib.py, change

     if pre == self.ESC_QUOTE:

to

     if pre == self.ESC_QUOTE or hasattr(self, 'ctb_autoquote'):
</pre>
<p>I'm still figuring out how to make this work automatically...</p>
</div>
<div class="section" id="future-plans">
<h1><a class="toc-backref" href="#id4" name="future-plans">Future Plans</a></h1>
<p>I'm scratching my own itch with twill at the moment, so development of
the core functionality will proceed sporadically.  I'd like to focus
on the IPython interface, because once that works then extending twill
will be really easy.</p>
</div>
<div class="section" id="acknowledgements-and-credits">
<h1><a class="toc-backref" href="#id5" name="acknowledgements-and-credits">Acknowledgements and Credits</a></h1>
<p>Cory Dodt had a great idea with PBP, and I thank him for his insight.
Ian Bicking gave me the idea of reimplementing PBP on top of IPython.
Grig Gheorghiu was strangely enthusiastic about the simple demo I
showed him.  Thanks, guys...</p>
</div>
</div>
</body>
</html>
